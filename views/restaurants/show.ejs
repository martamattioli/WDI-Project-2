<section class="restaurants-show">
  <div id="restId" style="display: none;"><%= restaurant._id %></div>
  <h1><%= restaurant.name %></h1>
  <p>Address: <%= restaurant.address %></p>
  <p>Phone Number: <%= restaurant.phoneNumber %></p>
  <a href="<%= restaurant.websiteURL %>" target="_blank">Go to <%= restaurant.name %> <strong>website</strong></a>

  <p>Price Level: <%= restaurant.priceLevel %></p>
  <p>Google Rating: <%= restaurant.rating %></p>

  <ul id="menu">
    <% restaurant.menuItem.forEach(item => { %>
      <li data-score="">
        <h3><%= item.itemName %> - (<%= item.itemCategory %>), Â£<%= item.price %>, <%= item.otherOptions %></h3>

        <% if( locals.currentUser && item.hasVoted('upvote', locals.currentUser.id) ){ %>
          <input class="upvote-hidden-check-up" type="hidden" name="can_upvote" value="false">
        <% } else {%>
          <input class="upvote-hidden-check-up" type="hidden" name="can_upvote" value="true">
        <% } %>
        
        <button id="upvote" class="btn btn-success votes"><%= item.upvotes %></button>

        <% if( locals.currentUser && item.hasVoted('downvote', locals.currentUser.id) ){ %>
          <input class="downvote-hidden-check-down" type="hidden" name="can_downvote" value="false">
        <% } else {%>
          <input class="downvote-hidden-check-down" type="hidden" name="can_downvote" value="true">
        <% } %>

        <button id="downvote" class="btn btn-danger votes"><%= item.downvotes %></button>
        <div style="display: none;"><%= item._id %></div>
        <div style="display: none;"><%= item.upvotes %></div>
        <div style="display: none;"><%= item.downvotes %></div>
      </li>
    <% }) %>
  </ul>

  <a href="/restaurants/<%= restaurant.restaurantId %>/menuItems/new">ADD NEW ITEM</a>
</section>
